{"version":3,"sources":["app/app.coffee","app/config/vars.yaml","app/directives/maps.coffee","app/main/controllers/ballot.coffee","app/main/controllers/main.coffee","app/main/controllers/voting.coffee","app/main/controllers/votings.coffee","app/main/controllers/ward.coffee","app/main/controllers/wards.coffee","app/main/data.coffee","app/main/module.coffee","app/main/resources/cloudinary.coffee","app/main/resources/votings.coffee","app/services/camera.coffee","app/services/cordovaReady.coffee","app/services/geolocation.coffee","app/services/googlemaps.coffee","app/services/history.coffee","app/services/page.coffee"],"names":[],"mappings":"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","file":"www/js/app.js","sourcesContent":["'use strict'\n\nangular.module 'app', [\n\t# angular dependencies\n\t'ngAnimate'\n\t'ngResource'\n\t'ngSanitize'\n\t'ngRoute'\n#\t'ngTouch'\n\n\t# angular external (bower) dependencies\n\t'RequestContext'\n\t'angularLoad'\n\t'angularMoment'\n\t'angularSpinner'\n\t'touk.promisedLink'\n\t'touk.jwl.ngFnQueue'\n\t'touk.jwl.history'\n\t'touk.jwl.page'\n\t'ng.deviceDetector'\n\n\t# app modules\n\t'main.module'\n\t'directives.googleMaps'\n\n\t#'app.services'\n\t'cordova.Ready'\n\t'ngCordova.plugins.geolocation'\n\t'ngCordova.plugins.camera'\n\t'config.vars'\n\n\t# jade / html templates and templates\n\t'app.templates'\n]\n\n.config [\n\t'$routeProvider'\n\t'$locationProvider'\n\n\t($routeProvider, $locationProvider) ->\n\t\t$routeProvider\n\n\t\t.when '/votings', action: 'votings'\n\n\t\t.when '/voting', action: 'voting'\n\t\t.when '/voting/:date', action: 'voting'\n\n\t\t.when '/wards', action: 'wards'\n\t\t.when '/wards/:date', action: 'wards'\n\n\t\t.when '/wards/:community/:no', action: 'ward'\n\t\t.when '/wards/:community/:no/ballots', action: 'ward'\n\n\t\t.when '/wards/:community/:no/ballots/:ballot', action: 'ward.ballot'\n\t\t.when '/wards/:community/:no/ballots/:ballot/photos', action: 'ward.ballot.photos'\n\t\t.when '/wards/:community/:no/ballots/:ballot/share', action: 'ward.ballot.share'\n\n\n\t\t.otherwise redirectTo: '/wards'\n\n\t\t$locationProvider.html5Mode no\n]\n\n.config [\n\t'$httpProvider'\n\t($httpProvider) ->\n\t\t$httpProvider.defaults.useXDomain = yes\n#\t\t$httpProvider.defaults.withCredentials = yes\n\t\t$httpProvider.interceptors.push [\n\t\t\t'$q', '$location', 'varsConfig'\n\t\t\t($q, $location, varsConfig) ->\n\t\t\t\trequest: (config) ->\n\t\t\t\t\tangular.extend config.headers,\n\t\t\t\t\t\t'ctrl-pkw-client-version': varsConfig.version\n\n\t\t\t\t\tif transforms = config.transformResponse\n\t\t\t\t\t\ttransforms = [transforms] unless angular.isArray(transforms)\n\t\t\t\t\telse\n\t\t\t\t\t\tdefaults = $httpProvider.defaults.transformResponse\n\t\t\t\t\t\ttransforms = [defaults] unless angular.isArray(defaults)\n\n\t\t\t\t\ttransforms.unshift (data, headersGetter, status) ->\n\t\t\t\t\t\t#TODO: jakiś inny warunek, jakaś inna akcja...\n\t\t\t\t\t\tif status is 403\n\t\t\t\t\t\t\twindow.location.replace headersGetter().location\n\t\t\t\t\t\treturn data\n\n\t\t\t\t\tconfig.transformResponse = transforms\n\t\t\t\t\treturn config\n\n\t\t]\n]\n\n.config [\n\t'usSpinnerConfigProvider'\n\t(usSpinnerConfigProvider) ->\n\t\tusSpinnerConfigProvider.setDefaults\n\t\t\tcolor: 'black'\n\t\t\thwaccel: true\n\t\t\tlines: 12\n\t\t\tlength: 12\n\t\t\twidth: 5\n\t\t\tradius: 15\n\t\t\tcorners: 1\n]\n\n.run [\n\t'amMoment'\n\t(amMoment) ->\n\t\tamMoment.changeLocale 'pl'\n\t\tFastClick.attach document.body\n]\n","angular.module('config.vars',[]).constant('varsConfig', {\"api\":\"http://ctrlpkw.pl/api\",\"cloudinary\":\"https://api.cloudinary.com/v1_1\",\"cloudName\":\"ddj4jx8rq\",\"version\":\"0.0.1\"})","'use strict'\n\nangular.module 'directives.googleMaps', [\n\t'cordova.plugin.googleMaps'\n]\n\n.directive 'map', [\n\t'$q', '$document'\n\t($q, $document) ->\n\t\trestrict: 'AE'\n\t\tcontroller: 'mapController'\n\t\tcontrollerAs: 'ctrl'\n\t\tscope:\n\t\t\tmarkers: '='\n\t\t\tcenterMapFn: '='\n\t\t\tgetMapCenterFn: '='\n\t\t\tonInit: '='\n\t\t\tonMarkerClick: '='\n\t\t\tmasked: '='\n\t\t\timage: '='\n\n\t\tlink: (scope, element, attrs, ctrl) ->\n\t\t\tctrl.init element[0]\n\n\t\t\tscope.$watch 'masked', (masked) ->\n\t\t\t\treturn unless ctrl.Map?.getImage?\n\t\t\t\tif masked\n\t\t\t\t\tctrl.Map.getImage ctrl.map\n\t\t\t\t\t.then (imageData) ->\n\t\t\t\t\t\tscope.image =\n\t\t\t\t\t\t\turl: imageData\n\t\t\t\t\t\t\theight: element.parent()[0].clientHeight\n\t\t\t\t\t\t\twidth: element.parent()[0].clientWidth\n\t\t\t\telse\n\t\t\t\t\tscope.image?.url = null\n\n]\n\n.service 'mapData', [->]\n\n.controller 'mapController', [\n\t'initMaps', '$injector', '$scope', '$q', '$cordovaGeolocation', 'locationMonitor', '$document', 'mapData'\n\tclass MapController\n\n\t\tconstructor: (@initMaps, @injector, @scope, @q, @geolocation, @locationMonitor, @document, @savedMapData) ->\n\t\t\tangular.extend @scope,\n\t\t\t\tcenterMapFn: @centerOnLocation\n\t\t\t\tgetMapCenterFn: @getView\n\n\t\t\t@scope.$on '$destroy', @destructor\n\n\t\tinit: (element) =>\n\t\t\t@_injectPlugin()\n\t\t\t.then =>\n\t\t\t\t@map = @_createMap element\n\t\t\t\treturn @map\n\t\t\t.then => @onInit()\n\n\t\t_injectPlugin: =>\n\t\t\t@q.when @initMaps\n\t\t\t.then (maps) => @Map = maps\n\t\t\t.catch (error) => alert error\n\n\t\t_createMap: (element) =>\n\t\t\t@Map.getMap element,\n\t\t\t\tcenter: @Map.latLng 52, 21\n\t\t\t\tzoom: 5\n\n\t\tonInit: =>\n\t\t\tsetTimeout =>\n\t\t\t\t@scope.$watch 'markers', @markersChanged, yes\n\t\t\t\t@resizeHandler()\n\t\t\t\tif @savedMapData.coords\n\t\t\t\t\tpos = @Map.latLng @savedMapData.coords.latitude, @savedMapData.coords.longitude\n\t\t\t\t\t@map.setZoom @savedMapData.zoom\n\t\t\t\t\t@Map.moveTo @map, pos\n\t\t\t\telse\n\t\t\t\t\t@centerOnLocation yes\n\n\t\t\t\t@scope.$on 'MAP_VIEW_CHANGE', =>\n\t\t\t\t\t@getView().then (position) =>\n\t\t\t\t\t\tangular.extend @savedMapData, position\n\n\t\t\t\t@scope.onInit?()\n\t\t\t, 250\n\n\t\t_doCenterOnLocation: => _.debounce (position, fast) =>\n\t\t\tpos = @Map.latLng position.coords.latitude, position.coords.longitude\n\t\t\t@Map[if fast then 'moveTo' else 'panTo'] @map, pos\n\t\t, 250\n\n\t\tcenterOnLocation: (fast) =>\n\t\t\t@doCenterOnLocation ?= @_doCenterOnLocation()\n\t\t\tif @locationMonitor.lastPosition\n\t\t\t\t@doCenterOnLocation @locationMonitor.lastPosition, fast\n\t\t\telse\n\t\t\t\t@geolocation.getCurrentPosition().then (position) =>\n\t\t\t\t\t@doCenterOnLocation position, fast\n\n\t\tcreateCircleForPoints: (center, points) =>\n\t\t\tc =\n\t\t\t\tlat: center.coords.latitude\n\t\t\t\tlng: center.coords.longitude\n\t\t\tradius = center.coords.radius\n\t\t\tfor point in points\n\t\t\t\tpt =\n\t\t\t\t\tlat: point.lat?() or point.lat\n\t\t\t\t\tlng: point.lng?() or point.lng\n\t\t\t\tdistance = @Map.distance(c, pt)\n\t\t\t\tradius = Math.max distance, radius\n\t\t\t@Map.createCircle @map,\n\t\t\t\tcenter: @Map.latLng c.lat, c.lng\n\t\t\t\tradius: radius\n\t\t\t\tfillColor: 'rgba(0,0,0,0)'\n\t\t\t\tstrokeColor: 'rgba(255, 0, 0, 0.5)'\n\t\t\t\tstrokeWeight: 2\n\n\t\tdoCenterOnMarkers: (position) =>\n\t\t\t@resizeHandler()\n\t\t\tpos = @Map.latLng position.coords.latitude, position.coords.longitude\n\t\t\t@Map.deleteCircle @viewCircle\n\t\t\tpoints = (@Map.getMarkerPositon marker for marker in @markers)\n\t\t\t@q.all points\n\t\t\t.then (points) =>\n\t\t\t\t@createCircleForPoints position, points\n\t\t\t\t.then (circle) =>\n\t\t\t\t\tpoints.push pos\n\t\t\t\t\tbounds = @Map.latLngBounds points\n\t\t\t\t\t@viewCircle = circle\n\t\t\t\t\tsetTimeout =>\n\t\t\t\t\t\t@resizeHandler()\n\t\t\t\t\t\tif @savedMapData.coords\n\t\t\t\t\t\t\tpos = @Map.latLng @savedMapData.coords.latitude, @savedMapData.coords.longitude\n\t\t\t\t\t\t\t@map.setZoom @savedMapData.zoom\n\t\t\t\t\t\t\t@Map.moveTo @map, pos\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\t@Map.fitBounds @map, bounds\n\t\t\t\t\t, 150\n\n\t\tcenterOnMarkers: (position) =>\n\t\t\treturn unless @markers\n\t\t\tif position\n\t\t\t\t@doCenterOnMarkers position\n\t\t\telse\n\t\t\t\t@getView().then @doCenterOnMarkers\n\n\t\tmarkersChanged: (markers) =>\n\t\t\treturn unless markers?\n\t\t\t@cleanMarkers()\n\t\t\treturn unless markers.points?.length\n\t\t\tpromises = (@createMarker marker for marker in markers.points)\n\t\t\t@q.all promises\n\t\t\t.then (_markers) =>\n\t\t\t\t@markers = _markers\n\t\t\t\t@centerOnMarkers markers.center\n\t\t\t\treturn @markers\n\n\t\tgetView: => @Map.getView @map\n\n\t\tcleanMarkers: =>\n\t\t\treturn unless @markers?.length\n\t\t\tif @map.clear?\n\t\t\t\t@map.clear()\n\t\t\t\t@map.off()\n\t\t\t\treturn\n\n\t\t\tfor marker, i in @markers\n\t\t\t\t@removeMarker marker\n\t\t\t\tdelete @markers[i]\n\n\t\tremoveMarker: (marker) =>\n\t\t\t@Map.deleteMarker marker\n\n\t\tcreateMarker: (marker) =>\n\t\t\tconsole.log 'createMarker'\n\t\t\tcount = marker.wards.length if marker.wards?.length > 1\n\t\t\tscale = .75 unless _.every marker.wards, protocolStatus: 'LACK'\n\n\t\t\tm = @Map.createMarker @map,\n\t\t\t\tposition: @Map.latLng marker.location.latitude, marker.location.longitude\n\t\t\t\ticon:\n\t\t\t\t\turl: \"img/marker#{count or ''}.png\"\n\t\t\t\t\tsize:\n\t\t\t\t\t\twidth: (44/2) * (scale or 1)\n\t\t\t\t\t\theight: (80/2) * (scale or 1)\n\t\t\tm.then (el) =>\n\t\t\t\t@Map.onMarkerClick el, => @onMarkerClick marker\n\t\t\treturn m\n\n\t\tonMarkerClick: (marker) =>\n\t\t\t@scope.onMarkerClick marker\n\n\t\tresizeHandler: =>\n\t\t\t@Map.resize @map\n\n\t\tdestructor: =>\n\t\t\t@getView().then (position) =>\n\t\t\t\tangular.extend @savedMapData, position\n\t\t\t\t@cleanMarkers()\n]\n\n\n","'use strict'\n\nangular.module 'main.controllers.ballot', [\n\t'RequestContext'\n\t'main.resources.cloudinary'\n]\n\n.controller 'BallotController', [\n\t'$scope'\n\t'RenderContextFactory'\n\t'ApplicationData'\n\t'$cordovaCamera'\n\t'CloudinaryResources'\n\t'$location'\n\t'$history'\n\n\tclass BallotController\n\t\tconstructor: (@scope, RenderContext, @data, @camera, @cloudinary, @location, @history) ->\n\t\t\trenderContext = new RenderContext @scope, 'ward.ballot', ['community', 'no', 'ballot']\n\n\t\t\t@scope.$watch =>\n\t\t\t\t@ballotNo\n\t\t\t, =>\n\t\t\t\t@ballot = _.find @data.ballots, no: @ballotNo\n\n\t\t\t@scope.$on \"requestContextChanged\", =>\n\t\t\t\treturn unless renderContext.isChangeRelevant()\n\t\t\t\t@init(renderContext)\n\n\t\t\t@images = []\n\t\t\t@result = votesCountPerOption: []\n\t\t\t@init(renderContext)\n\n\t\tinit: (renderContext) =>\n\t\t\t@communityCode = renderContext.getParam 'community'\n\t\t\t@wardNo = renderContext.getParam 'no'\n\t\t\t@ballotNo = renderContext.getParamAsInt 'ballot'\n\n\t\t\t@history.replace() #if @scope.subview\n\n\t\tsum: =>\n\t\t\t_.reduce @result.votesCountPerOption, (sum, value) -> (sum or 0) + (value or 0)\n\n\t\tsendResult: =>\n\t\t\t@loading = yes\n\t\t\t@request = @data.saveProtocol\n\t\t\t\tballotNo: @ballot.no\n\t\t\t\tcommunityCode: @communityCode\n\t\t\t\twardNo: @wardNo\n\t\t\t\tballotResult: @result\n\t\t\t@request.$promise.then (response) =>\n\t\t\t\t@uploadParams = response\n\t\t\t.finally =>\n\t\t\t\t@loading = no\n\t\t\treturn @request.$promise\n\n\t\ttakePhoto: (choose) =>\n\t\t\t@camera.getPicture\n\t\t\t\tdestinationType: Camera.DestinationType.DATA_URL\n\t\t\t\tsourceType: if choose then Camera.PictureSourceType.PHOTOLIBRARY else Camera.PictureSourceType.CAMERA\n\t\t\t\tcorrectOrientation: yes\n\t\t\t\tsaveToPhotoAlbum: yes\n\t\t\t\tquality: 49\n\t\t\t.then (uri) =>\n\t\t\t\t@loading = yes\n\t\t\t\timage = {}\n\t\t\t\timage.res = @cloudinary.save\n\t\t\t\t\tapi_key: @uploadParams.apiKey\n\t\t\t\t\ttimestamp: @uploadParams.timestamp\n\t\t\t\t\tsignature: @uploadParams.signature\n\t\t\t\t\tpublic_id: @uploadParams.publicId\n\t\t\t\t\tfile: \"data:image/jpeg;base64,#{uri}\"\n\n\t\t\t\timage.res.$promise.finally => @loading = no\n\t\t\t\timage.src = \"data:image/jpeg;base64,#{uri}\"\n\t\t\t\t@images.push image\n]","'use strict'\n\nangular.module 'main.controllers.main', [\n\t'RequestContext'\n]\n\n.controller 'MainCtrl', [\n\t'$scope'\n\t'$route'\n\t'$routeParams'\n\t'requestContext'\n\t'ApplicationData'\n\n\t($scope, $route, $routeParams, requestContext, data) ->\n\t\t# Get the render context local to this controller (and relevant params).\n\t\trenderContext = requestContext.getRenderContext()\n\n\t\t# I check to see if the given route is a valid route; or, is the route being\n\t\t# re-directed to the default route (due to failure to match pattern).\n\t\tisRouteRedirect = (route) -> not route.current.action\n\n\t\t# The subview indicates which view is going to be rendered on the page.\n\t\t$scope.subview = renderContext.getNextSection()\n\n\t\t# I handle changes to the request context.\n\t\t$scope.$on \"requestContextChanged\", ->\n\t\t\treturn unless renderContext.isChangeRelevant()\n\t\t\t$scope.subview = renderContext.getNextSection()\n\n\t\t# Listen for route changes so that we can trigger request-context change events.\n\t\t$scope.$on \"$routeChangeSuccess\", (event) ->\n\t\t\t# If this is a redirect directive, then there's no taction to be taken.\n\t\t\treturn if isRouteRedirect($route)\n\n\t\t\t# Update the current request action change.\n\t\t\trequestContext.setContext $route.current.action, $routeParams\n\n\t\t\t# Announce the change in render conditions.\n\t\t\t$scope.$broadcast \"requestContextChanged\", requestContext\n\n\t\t@data = data\n\n]","'use strict'\n\nangular.module 'main.controllers.voting', [\n\t'RequestContext'\n]\n\n.controller 'VotingController', [\n\t'$scope'\n\t'RenderContextFactory'\n\t'ApplicationData'\n\t'$cordovaGeolocation'\n\t'locationMonitor'\n\t'$location'\n\t'$timeout'\n\t'$history'\n\t'$page'\n\n\tclass VotingController\n\t\tconstructor: (@scope, RenderContext, @data, @cordovaGeolocation, @locationMonitor, @location, @timeout, @history, @page) ->\n\t\t\trenderContext = new RenderContext @scope, 'voting', 'date'\n\n\t\t\t@scope.$on \"requestContextChanged\", =>\n\t\t\t\treturn unless renderContext.isChangeRelevant()\n\t\t\t\t@contextChanged renderContext\n\n\t\t\t@contextChanged renderContext\n\n\t\tcontextChanged: (renderContext) =>\n#\t\t\t@history.clean()\n\t\t\t@data.selectedWards = []\n\t\t\tif votingDate = renderContext.getParam('date')\n\t\t\t\t@data.selectedVoting = votingDate\n\t\t\telse\n\t\t\t\t@data.votings.$promise.then =>\n\t\t\t\t\t@history.replace()\n\t\t\t\t\t@location.replace()\n\t\t\t\t\t@location.path \"/voting/#{@data.selectedVoting}\"\n\n\t\tinit: =>\n\t\t\t@updateWards() unless @data.wards.length\n\t\t\t@page.title = 'Lokale wyborcze'\n\n\t\tupdateWards: =>\n\t\t\t@data.clearMapData()\n\t\t\t@getMapCenter?().then @data.getWards\n\n\t\tonMarkerClick: (marker) =>\n\t\t\t@data.selectedWards = marker.wards\n\t\t\t@scope.$apply => @location.path '/wards'\n]","'use strict'\n\nangular.module 'main.controllers.votings', [\n\t'RequestContext'\n]\n\n.controller 'VotingsController', [\n\t'$scope'\n\t'RenderContextFactory'\n\t'ApplicationData'\n\t'$page'\n\n\tclass VotingsController\n\t\tconstructor: (@scope, RenderContext, @data, $page) ->\n\t\t\trenderContext = new RenderContext @scope, 'votings'\n\t\t\t$page.title = 'Wybory'\n\n]","'use strict'\n\nangular.module 'main.controllers.ward', [\n\t'RequestContext'\n\t'main.resources.cloudinary'\n\t'main.controllers.ballot'\n]\n\n.controller 'WardController', [\n\t'$scope'\n\t'RenderContextFactory'\n\t'ApplicationData'\n\t'$cordovaCamera'\n\t'CloudinaryResources'\n\t'$location'\n\t'$history'\n\t'$page'\n\n\tclass WardController\n\t\tconstructor: (@scope, RenderContext, @data, @camera, @cloudinary, @location, @history, @page) ->\n\t\t\trenderContext = new RenderContext @scope, 'ward', ['community', 'no']\n\n\t\t\t@scope.$watch =>\n\t\t\t\t@wardNo\n\t\t\t, =>\n\t\t\t\t@ward = _.find @data.selectedWards, no: @wardNo\n\n\t\t\t@scope.$on \"requestContextChanged\", =>\n\t\t\t\treturn unless renderContext.isChangeRelevant()\n\t\t\t\t@init(renderContext)\n\n\t\t\t@init renderContext\n\n\t\t\tif @data.ballots.length is 1\n\t\t\t\t@history.replace()\n\t\t\t\t@location.replace()\n\t\t\t\t@openBallot @data.ballots[0]\n\n\t\topenBallot: (ballot) =>\n\t\t\t@location.path \"/wards/#{@communityCode}/#{@wardNo}/ballots/#{ballot.no}\"\n\n\t\tinit: (renderContext) =>\n\t\t\t@communityCode = renderContext.getParamAsInt 'community'\n\t\t\t@wardNo = renderContext.getParamAsInt 'no'\n\t\t\t@page.title = \"Komisja nr #{@wardNo}\"\n]","'use strict'\n\nangular.module 'main.controllers.wards', [\n\t'RequestContext'\n]\n\n.controller 'WardsController', [\n\t'$scope'\n\t'$page'\n\t'RenderContextFactory'\n\t'ApplicationData'\n\t'$cordovaGeolocation'\n\t'locationMonitor'\n\t'$location'\n\t'$history'\n\t'$timeout'\n\n\tclass WardsController\n\t\tconstructor: (@scope, $page, RenderContext, @data, @cordovaGeolocation, @locationMonitor, @location, @history, @timeout) ->\n\t\t\t$page.title = 'Lokale wyborcze'\n\t\t\trenderContext = new RenderContext @scope, 'wards', 'date'\n\n\t\t\t@scope.$on \"requestContextChanged\", =>\n\t\t\t\treturn unless renderContext.isChangeRelevant()\n\t\t\t\t@contextChanged renderContext\n\n\t\t\t@contextChanged renderContext\n\n\t\tcontextChanged: (renderContext) =>\n\t\t\tif votingDate = renderContext.getParam('date')\n\t\t\t\t@data.selectedVoting = votingDate\n\t\t\t\t@init()\n\t\t\telse\n\t\t\t\t@data.votings.$promise.then =>\n\t\t\t\t\t@history.replace()\n\t\t\t\t\t@location.replace()\n\t\t\t\t\t@location.path \"/wards/#{@data.selectedVoting}\"\n\n\t\tinit: => @timeout =>\n\t\t\tunless @data.selectedWards?.length\n\t\t\t\tif @data.wards.length\n\t\t\t\t\t@data.selectedWards = @data.wards\n\t\t\t\telse\n\t\t\t\t\t@scope.$watch (=> return @data.wards), (wards) =>\n\t\t\t\t\t\treturn unless wards?\n\t\t\t\t\t\t@data.selectedWards = wards\n\n\t\t\t\t\t@timeout =>\n\t\t\t\t\t\t@getWards()\n\t\t\t\t\t, 250\n\n\t\t\tif @data.selectedWards.length is 1\n\t\t\t\tward = @data.selectedWards[0]\n\t\t\t\t@history.replace()\n\t\t\t\t@location.replace()\n\t\t\t\t@location.path \"/wards/#{ward.communityCode}/#{ward.no}\"\n\n\t\tgetWards: =>\n\t\t\t@locationPending = yes\n\t\t\tif @locationMonitor?.lastPosition\n\t\t\t\t@data.getWards @locationMonitor.lastPosition\n\t\t\t\t@locationPending = no\n\t\t\telse\n\t\t\t\t@cordovaGeolocation.getCurrentPosition()\n\t\t\t\t.then @data.getWards\n\t\t\t\t.finally => @locationPending = no\n\n]","'use strict'\n\nMAX_RADIUS = 5000\nDEBOUNCE_TIMEOUT = 250\n\nangular.module 'main.data', []\n\n.service 'ApplicationData', [\n\t'$rootScope'\n\t'VotingsResources', 'ProtocolsResources'\n\t'mapData'\n\n\tclass ApplicationData\n\t\tvotings: []\n\t\tselectedVoting: null\n\n\t\tballots: []\n\n\t\twardsCount: 3\n\t\twards: []\n\t\tselectedWards: []\n\t\tmarkers: []\n\n\t\tconstructor: ($rootScope, @votingsResources, @protocolsResources, @mapSavedData) ->\n\t\t\t@getWards = _.debounce @_getWards, DEBOUNCE_TIMEOUT\n\n\t\t\t@getVotings()\n\n\t\t\t$rootScope.$watch (=> @selectedVoting), @_onVotingChanged\n\n\t\t_onVotingChanged: =>\n\t\t\t@wards = []\n\t\t\t@selectedWards = []\n\t\t\t@markers = []\n\t\t\t@clearMapData()\n\n\t\t\t@getBallots() if @selectedVoting\n\n\t\tclearMapData: =>\n\t\t\t@mapSavedData.bounds = null\n\t\t\t@mapSavedData.coords = null\n\t\t\t@mapSavedData.zoom = null\n\n\t\t_getWards: (position) =>\n\t\t\t@wardsLoading = yes\n\n\t\t\t@selectedWards = []\n\t\t\tposition.coords.radius = Math.min(MAX_RADIUS, position.coords.radius / 2 or 0)\n\t\t\trequest = @votingsResources.getWards\n\t\t\t\tdate: @selectedVoting\n\t\t\t\tminCount: @wardsCount\n\t\t\t\tlatitude: position.coords.latitude\n\t\t\t\tlongitude: position.coords.longitude\n\t\t\t\tradius: position.coords.radius\n\n\t\t\trequest.$promise.then (@wards) =>\n\t\t\t\treturn unless @wards.length\n\n\t\t\t\tpoints = _.chain(@wards)\n\t\t\t\t.groupBy (ward) ->\n\t\t\t\t\t[ward.location.latitude, ward.location.longitude]\n\t\t\t\t.map (group) ->\n\t\t\t\t\tlocation: group[0].location\n\t\t\t\t\twards: group\n\t\t\t\t.value()\n\n\t\t\t\t@markers =\n\t\t\t\t\tpoints: points\n\t\t\t\t\tcenter: position\n\n\t\t\t.finally =>\n\t\t\t\t@wardsLoading = no\n\n\t\t\treturn request.$promise\n\n\t\tgetVotings: =>\n\t\t\t@votings = @votingsResources.getVotings()\n\t\t\t@votings.$promise.then =>\n\t\t\t\t@selectedVoting ?= @votings[0].date\n\n\t\tgetBallots: =>\n\t\t\t@ballots = @votingsResources.getBallots\n\t\t\t\tdate: @selectedVoting\n\n\t\tsaveProtocol: (protocol) =>\n\t\t\t@protocolsResources.save angular.extend\n\t\t\t\tvotingDate: @selectedVoting\n\t\t\t, protocol\n\n\t\tcurrentVoting: =>\n\t\t\tif @selectedVoting?\n\t\t\t\t_.find(@votings, date: @selectedVoting)\n]\n","'use strict'\n\n### Controllers ###\n\nangular.module 'main.module', [\n\t'main.data'\n\t'main.controllers.main'\n\t'main.controllers.votings'\n\t'main.controllers.voting'\n\t'main.controllers.wards'\n\t'main.controllers.ward'\n\t'main.resources.votings'\n]\n","'use strict'\n\nangular.module 'main.resources.cloudinary', [\n\t'config.vars'\n]\n\n.factory 'CloudinaryResources', [\n\t'$resource', 'varsConfig'\n\t($resource, config) ->\n\t\t$resource \"#{config.cloudinary}/#{config.cloudName}/image/upload\"\n]","'use strict'\n\n#apiUrl = 'http://ctrlpkw.pl:80/api'\n\nangular.module 'main.resources.votings', [\n\t'config.vars'\n]\n\n.factory 'VotingsResources', [\n\t'$resource', 'varsConfig'\n\t($resource, varsConfig) ->\n\n\t\t$resource \"#{varsConfig.api}/votings/:date/:action\",\n\t\t\tdate: '@date'\n\t\t,\n\t\t\tgetVotings:\n\t\t\t\tmethod: 'GET'\n\t\t\t\tisArray: yes\n\n\t\t\tgetWards:\n\t\t\t\tmethod: 'GET'\n\t\t\t\tparams:\n\t\t\t\t\taction: 'wards'\n\t\t\t\tisArray: yes\n\n\t\t\tgetBallots:\n\t\t\t\tmethod: 'GET'\n\t\t\t\tparams:\n\t\t\t\t\taction: 'ballots'\n\t\t\t\tisArray: yes\n\n]\n\n\n.factory 'ProtocolsResources', [\n\t'$resource', 'varsConfig'\n\t($resource, varsConfig) ->\n\n\t\t$resource \"#{varsConfig.api}/protocols/:id\", {}\n]","# install   :   cordova plugin add org.apache.cordova.camera\n# link      :   https://github.com/apache/cordova-plugin-camera/blob/master/doc/index.md#orgapachecordovacamera\n\nangular.module 'ngCordova.plugins.camera', [\n\t'cordova.Ready'\n]\n\n.factory '$cordovaCamera', [\n\t'$q', 'crdReady'\n\t($q, cordovaReady) ->\n\t\tgetPicture: (options) ->\n\t\t\tq = $q.defer()\n\t\t\tdo cordovaReady ->\n\t\t\t\tif !navigator.camera\n\t\t\t\t\tq.resolve null\n\t\t\t\t\treturn q.promise\n\t\t\t\tnavigator.camera.getPicture ((imageData) ->\n\t\t\t\t\tq.resolve imageData\n\t\t\t\t), ((err) ->\n\t\t\t\t\tq.reject err\n\t\t\t\t), options\n\t\t\tq.promise\n\n\t\tcleanup: ->\n\t\t\tq = $q.defer()\n\t\t\tdo cordovaReady ->\n\t\t\t\tnavigator.camera.cleanup ->\n\t\t\t\t\tq.resolve()\n\t\t\t\t, (err) ->\n\t\t\t\t\tq.reject err\n\t\t\tq.promise\n]\n","'use strict'\n\nangular.module 'cordova.Ready', [\n\t'touk.jwl.ngFnQueue'\n]\n\n.factory 'crdReady', [\n\t'$q', '$document', 'fnQueue'\n\t($q, $document, fnQueue) ->\n\t\tdeferred = $q.defer()\n\t\t$document.one 'deviceready', -> deferred.resolve()\n\t\treturn fnQueue(deferred.promise)\n]\n","# install   :     cordova plugin add org.apache.cordova.geolocation\n# link      :     https://github.com/apache/cordova-plugin-geolocation/blob/master/doc/index.md\n\nangular.module \"ngCordova.plugins.geolocation\", [\n\t'cordova.Ready'\n]\n\n.factory \"$cordovaGeolocation\", [\n\t\"$q\", 'crdReady'\n\t($q, cordovaReady) ->\n\t\tgetCurrentPosition: (options) ->\n\t\t\tq = $q.defer()\n\t\t\tdo cordovaReady ->\n\t\t\t\tnavigator.geolocation.getCurrentPosition (result) ->\n\t\t\t\t\tq.resolve result\n\t\t\t\t, (err) ->\n\t\t\t\t\tq.reject err\n\t\t\t\t, options\n\t\t\tq.promise\n\n\t\twatchPosition: (options) ->\n\t\t\tq = $q.defer()\n\t\t\tdo cordovaReady ->\n\t\t\t\twatchID = navigator.geolocation.watchPosition (result) ->\n\t\t\t\t\tq.notify result\n\t\t\t\t, (err) ->\n\t\t\t\t\tq.reject err\n\t\t\t\t, options\n\n\t\t\t\tq.promise.cancel = ->\n\t\t\t\t\tnavigator.geolocation.clearWatch watchID\n\n\t\t\t\tq.promise.clearWatch = (id) ->\n\t\t\t\t\tnavigator.geolocation.clearWatch id or watchID\n\n\t\t\t\tq.promise.watchID = watchID\n\t\t\tq.promise\n\n\t\tclearWatch: (watchID) ->\n\t\t\tdo cordovaReady ->\n\t\t\t\tnavigator.geolocation.clearWatch watchID\n]\n\n.service \"locationMonitor\", [\n\t'$q', '$rootScope', '$cordovaGeolocation', '$document'\n\tclass LocationMonitor\n\t\tpromise: null\n\t\tlastPosition: null\n\n\t\tconstructor: (@q, @rootScope, @geolocation, @document) ->\n\t\t\t@document\n\t\t\t.on 'resume', @start\n\t\t\t.on 'pause', @stop\n\t\t\t@start()\n\n\t\tstart: =>\n\t\t\t@stop()\n\t\t\t@promise = @geolocation.watchPosition().then null, null, (@lastPosition) =>\n\t\t\t\t@rootScope.$broadcast 'LOCATION_CHANGED', @lastPosition\n\t\t\t\t@document.triggerHandler 'location_changed'\n\n\t\tstop: =>\n\t\t\t@promise?.cancel?()\n\t\t\t@promise = null\n]\n","# install   :     cordova plugin add plugin.google.maps\n# link      :     https://github.com/wf9a5m75/phonegap-googlemaps-plugin\n\n\n'use strict'\n\nclass Maps\n\tEARTH_RADIUS: 6370986\n\n\ttoRad: (deg) -> deg * Math.PI / 180\n\n\tdistance: (pt1, pt2) =>\n\t\tlat1 = @toRad pt1.lat\n\t\tlng1 = @toRad pt1.lng\n\t\tlat2 = @toRad pt2.lat\n\t\tlng2 = @toRad pt2.lng\n\n\t\tdlon = lng2 - lng1\n\t\tdlat = lat2 - lat1\n\n\t\ta = Math.pow((Math.sin(dlat/2)),2) + Math.cos(lat1) * Math.cos(lat2) * Math.pow(Math.sin(dlon/2),2)\n\t\tc = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a))\n\n\t\treturn @EARTH_RADIUS * c;\n\n\n\nangular.module 'cordova.plugin.googleMaps', [\n\t'cordova.Ready'\n]\n\n.factory \"initMaps\", [\n\t'$q', '$injector', 'crdReady'\n\t($q, $injector, crdReady) ->\n\t\tdeferred = $q.defer()\n\n\t\tcheckNative = crdReady ->\n\t\t\tconsole.debug 'checkNative'\n\t\t\treturn checkJavascript() unless plugin?.google?.maps?.Map\n\t\t\tplugin.google.maps.Map.isAvailable (isAvailable, message) ->\n\t\t\t\treturn checkJavascript() unless isAvailable\n\t\t\t\tnativeMaps()\n\n\t\tcheckJavascript = ->\n\t\t\tconsole.debug 'checkJavascript'\n\t\t\treturn javascriptMaps() if google?.maps?.Map\n\t\t\tcallbackName = 'mapsInit'\n\t\t\twindow[callbackName] = ->\n\t\t\t\tjavascriptMaps()\n\t\t\t\tclearTimeout timeout\n\t\t\t\tdelete window[callbackName]\n\t\t\ttimeout = setTimeout ->\n\t\t\t\tnoMaps()\n\t\t\t\tdelete window[callbackName]\n\t\t\t, 10000\n\t\t\tmapsApiKey = 'AIzaSyDvoIJEBVWnFvqMnSLPvu4Ce7cD8tJmNjc'\n\t\t\turl = \"https://maps.googleapis.com/maps/api/js?key=#{mapsApiKey}\"\n\t\t\tscript = document.createElement 'script'\n\t\t\tscript.type = 'text/javascript'\n\t\t\tscript.src = \"#{url}&callback=#{callbackName}\"\n\t\t\tdocument.body.appendChild script\n\n\t\tnativeMaps = ->\n\t\t\tconsole.debug 'nativeMaps'\n\t\t\tdeferred.resolve $injector.get 'googleMapsNative'\n\n\t\tjavascriptMaps = ->\n\t\t\tconsole.debug 'javascriptMaps'\n\t\t\tdeferred.resolve $injector.get 'googleMapsJS'\n\n\t\tnoMaps = ->\n\t\t\tconsole.debug 'noMaps'\n\t\t\tdeferred.reject 'No maps'\n\n\t\tcheckNative()\n\n\t\treturn deferred.promise\n]\n\n.service \"googleMapsNative\", [\n\t'$q', '$rootScope'\n\tclass GoogleMapsNative extends Maps\n\t\tconstructor: (@q, @rootScope) ->\n\n\t\tgetMap: (canvas, params) ->\n\t\t\tparent = angular\n\t\t\t.element(canvas)\n\t\t\t.css(display: 'none')\n\t\t\t.parent()[0]\n\t\t\tmap = plugin.google.maps.Map.getMap parent,\n\t\t\t\tbackgroundColor: params.backgroundColor\n\t\t\t\tcontrols:\n\t\t\t\t\tzoom: no\n\t\t\t\t\tcompass: yes\n\t\t\t\t\tmyLocation: yes\n\t\t\t\t\tmyLocationButton: no\n\t\t\t\tcamera:\n\t\t\t\t\tlatLng: params.center\n\t\t\t\t\ttilt: params.tilt\n\t\t\t\t\tzoom: params.zoom\n\t\t\t\t\tbearing: params.bearing\n\n\t\t\tmap.on plugin.google.maps.event.CAMERA_CHANGE, @_onMapCameraChanged(map)\n\t\t\treturn map\n\n\t\t_onMapCameraChanged: (map) => =>\n\t\t\t@getView map\n\t\t\t.then (position) =>\n\t\t\t\t@rootScope.$broadcast 'MAP_VIEW_CHANGE', position\n\n\t\tfitBounds: (map, bounds) ->\n\t\t\tmap.setPadding 60\n\t\t\tmap.animateCamera\n\t\t\t\ttarget: bounds\n\t\t\t\tduration: 1000\n\t\t\tsetTimeout -> map.setPadding 0\n\n\t\tpanTo: (map, position) -> map.getCameraPosition (camera) ->\n\t\t\tmap.animateCamera\n\t\t\t\ttarget: position\n\t\t\t\tzoom: camera.zoom\n\t\t\t\tduration: 1000\n\n\t\tmoveTo: (map, position) -> map.getCameraPosition (camera) ->\n\t\t\tmap.moveCamera\n\t\t\t\ttarget: position\n\t\t\t\tzoom: camera.zoom\n\n\t\tlatLng: (latitude, longitude) ->\n\t\t\tnew plugin.google.maps.LatLng latitude, longitude\n\n\t\tlatLngBounds: (points) ->\n\t\t\tnew plugin.google.maps.LatLngBounds points\n\n\t\tcreateMarker: (map, options) =>\n\t\t\tdeferred = @q.defer()\n\t\t\tif options.icon\n\t\t\t\toptions.icon.url = \"www/#{options.icon.url}\"\n\t\t\tmap.addMarker options, (marker) ->\n\t\t\t\tdeferred.resolve marker\n\t\t\tdeferred.promise\n\n\t\tgetMarkerPositon: (marker) =>\n\t\t\tdeferred = @q.defer()\n\t\t\tmarker?.getPosition (value) ->\n\t\t\t\tdeferred.resolve value\n\t\t\tdeferred.promise\n\n\t\tdeleteMarker: (marker) ->\n\t\t\tmarker?.remove()\n\n\t\tcreateCircle: (map, options) =>\n\t\t\tdeferred = @q.defer()\n\t\t\tparams = angular.extend\n\t\t\t\tfillColor: 'rgba(1,97,248,.2)'\n\t\t\t\tradius: 10\n\t\t\t\tstrokeWidth: options.strokeWeight or 0\n\t\t\t\tstrokeColor: 'rgba(0,0,0,.2)'\n\t\t\t, options\n\t\t\tmap.addCircle params, (circle) ->\n\t\t\t\tdeferred.resolve circle\n\t\t\tdeferred.promise\n\n\t\tdeleteCircle: (circle) =>\n\t\t\t@deleteMarker circle\n\n\t\tresize: (map) =>\n\t\t\tmap?.refreshLayout()\n\n\t\tgetImage: (map) =>\n\t\t\tdeferred = @q.defer()\n\t\t\tmap?.toDataURL (imageData) =>\n\t\t\t\tdeferred.resolve imageData\n\t\t\tdeferred.promise\n\n\t\tgetView: (map) =>\n\t\t\tdeferred = @q.defer()\n\t\t\tmap.getVisibleRegion (bounds) =>\n\t\t\t\tmap.getCameraPosition (camera) =>\n\t\t\t\t\tcenter = bounds.getCenter()\n\t\t\t\t\tdeferred.resolve\n\t\t\t\t\t\tbounds: bounds\n\t\t\t\t\t\tzoom: camera.zoom\n\t\t\t\t\t\tcoords:\n\t\t\t\t\t\t\tlatitude: center.lat\n\t\t\t\t\t\t\tlongitude: center.lng\n\t\t\t\t\t\t\tradius: @radius bounds\n\t\t\tdeferred.promise\n\n\t\tradius: (bounds) =>\n\t\t\tcenter = bounds.getCenter()\n\t\t\tne = bounds.northeast\n\t\t\tpt1 =\n\t\t\t\tlat: center.lat\n\t\t\t\tlng: center.lng\n\t\t\tpt2 =\n\t\t\t\tlat: ne.lat\n\t\t\t\tlng: ne.lng\n\t\t\treturn @distance pt1, pt2\n\n\t\tonMarkerClick: (marker, callback) =>\n\t\t\tmarker.addEventListener plugin.google.maps.event.MARKER_CLICK, callback\n\n\n]\n\n.service \"googleMapsJS\", [\n\t'$q', '$cordovaGeolocation', '$document', 'locationMonitor', '$rootScope'\n\tclass GoogleMapsJS extends Maps\n\t\tconstructor: (@q, @geolocation, @document, @locationMonitor, @rootScope) ->\n\n\t\tgetMap: (canvas, params) =>\n\t\t\t@document.off 'location_changed', @_locationChangeHandler\n\n\t\t\tangular.extend params,\n\t\t\t\tdisableDefaultUI: yes\n\n\t\t\tmap = new google.maps.Map canvas, params\n\t\t\t@_locationChangeHandler = @_createLocationChangeHandler map\n\t\t\t@_locationChangeHandler()\n\n\t\t\t@document.on 'location_changed', @_locationChangeHandler\n\t\t\tgoogle.maps.event.addListener map, 'center_changed', @_onMapCameraChanged(map)\n\t\t\treturn map\n\n\t\t_onMapCameraChanged: (map) => =>\n\t\t\t@getView map\n\t\t\t.then (position) =>\n\t\t\t\t@rootScope.$broadcast 'MAP_VIEW_CHANGE', position\n\n\t\t_createLocationChangeHandler: (map) =>\n\t\t\tlocationMarker = null\n\t\t\tlocationAccuracyCircle = null\n\n\t\t\t=> if @locationMonitor.lastPosition?\n\t\t\t\tcoords = @locationMonitor.lastPosition.coords\n\t\t\t\tposition = @latLng coords.latitude, coords.longitude\n\t\t\t\taccuracy = coords.accuracy\n\t\t\t\tunless locationMarker\n\t\t\t\t\tlocationMarker = {}\n\t\t\t\t\tscaledSize = 64 * .375\n\t\t\t\t\tanchor = scaledSize / 2\n\t\t\t\t\t@createMarker map,\n\t\t\t\t\t\tposition: position\n\t\t\t\t\t\ticon:\n\t\t\t\t\t\t\turl: 'img/location.png'\n\t\t\t\t\t\t\tscaledSize: new google.maps.Size scaledSize, scaledSize\n\t\t\t\t\t\t\tanchor: new google.maps.Point anchor, anchor\n\t\t\t\t\t.then (marker) ->\n\t\t\t\t\t\tlocationMarker = marker\n\n\t\t\t\t\tlocationAccuracyCircle = {}\n\t\t\t\t\t@createCircle map,\n\t\t\t\t\t\tcenter: position\n\t\t\t\t\t\tradius: accuracy\n\t\t\t\t\t.then (circle) ->\n\t\t\t\t\t\tlocationAccuracyCircle = circle\n\t\t\t\telse\n#\t\t\t\t\tlocationMarker.setPosition position\n#\t\t\t\t\tlocationAccuracyCircle.setCenter position\n#\t\t\t\t\tlocationAccuracyCircle.setRadius accuracy\n\t\t\t\t\t@_animateMarkerMove locationMarker, position\n\t\t\t\t\t@_animateCircleResize locationAccuracyCircle, accuracy\n\t\t\t\t\t@_animateMarkerMove locationAccuracyCircle, position\n\n\t\t_moveMarker: (marker, latlngs, index, wait) =>\n\t\t\tmarker.setPosition?(latlngs[index])\n\t\t\tmarker.setCenter?(latlngs[index])\n\t\t\tif index != latlngs.length - 1\n\t\t\t\tsetTimeout (=>\n\t\t\t\t\t@_moveMarker marker, latlngs, index + 1, wait\n\t\t\t\t), wait\n\n\t\t_resizeCircle: (circle, radius, index, wait) =>\n\t\t\tcircle.setRadius?(radius[index])\n\t\t\tif index != radius.length - 1\n\t\t\t\tsetTimeout (=>\n\t\t\t\t\t@_resizeCircle circle, radius, index + 1, wait\n\t\t\t\t), wait\n\n\t\t_animateMarkerMove: (marker, position) => if marker\n\t\t\tframes = []\n\t\t\tpercent = 0\n\t\t\tp = marker.getPosition?() or marker.getCenter?()\n\t\t\treturn unless p\n\t\t\tclat = p.lat()\n\t\t\tclng = p.lng()\n\t\t\twhile percent < 1\n\t\t\t\tcurLat = clat + percent * (position.lat() - clat)\n\t\t\t\tcurLng = clng + percent * (position.lng() - clng)\n\t\t\t\tframes.push @latLng(curLat, curLng)\n\t\t\t\tpercent += 0.01\n\t\t\t@_moveMarker marker, frames, 0, 20\n\n\t\t_animateCircleResize: (marker, radius) =>\n\t\t\tframes = []\n\t\t\tpercent = 0\n\t\t\tcr = marker?.getRadius?()\n\t\t\treturn unless cr\n\t\t\twhile percent < 1\n\t\t\t\tcurR = cr + percent * (radius - cr)\n\t\t\t\tframes.push curR\n\t\t\t\tpercent += 0.01\n\t\t\t@_resizeCircle marker, frames, 0, 20\n\n\t\tfitBounds: (map, bounds) => map.fitBounds bounds\n\n\t\tpanTo: (map, position) => map.panTo position\n\n\t\tmoveTo: (map, position) => map.setCenter position\n\n\t\tlatLng: (latitude, longitude) ->\n\t\t\tnew google.maps.LatLng latitude, longitude\n\n\t\tlatLngBounds: (points) ->\n\t\t\tbounds = new google.maps.LatLngBounds points[0], points[0]\n\t\t\tfor point in points[1..]\n\t\t\t\tbounds.extend point if point\n\t\t\treturn bounds\n\n\t\tcreateMarker: (map, options) =>\n\t\t\tdeferred = @q.defer()\n\n\t\t\tif options.icon?.size?.width\n\t\t\t\toptions.icon.scaledSize = new google.maps.Size options.icon.size.width, options.icon.size.height\n\t\t\t\tdelete options.icon.size\n\n\t\t\tmarker = new google.maps.Marker angular.extend\n\t\t\t\tmap: map\n\t\t\t, options\n\t\t\tdeferred.resolve marker\n\t\t\tdeferred.promise\n\n\t\tgetMarkerPositon: (marker) =>\n\t\t\tdeferred = @q.defer()\n\t\t\tif marker\n\t\t\t\tdeferred.resolve marker.getPosition()\n\t\t\telse\n\t\t\t\tdeferred.reject()\n\t\t\tdeferred.promise\n\n\t\tdeleteMarker: (marker) ->\n\t\t\tmarker?.setMap null\n\n\t\tcreateCircle: (map, options) =>\n\t\t\tdeferred = @q.defer()\n\t\t\tfillColor = new Color(options.fillColor) if options.fillColor?\n\t\t\tstrokeColor = new Color(options.strokeColor) if options.strokeColor?\n\t\t\tparams = angular.extend\n\t\t\t\tmap: map\n\t\t\t\tfillColor: fillColor?.toRGBString() or 'rgb(1, 97, 248)'\n\t\t\t\tfillOpacity: fillColor?.alpha or 0.2\n\t\t\t\tradius: 10\n\t\t\t\tstrokeWeight: 0\n\t\t\t\tstrokeColor: strokeColor?.toRGBString() or 'rgb(0, 0, 0)'\n\t\t\t\tstrokeOpacity: strokeColor?.alpha or 0.2\n\t\t\t, options\n\t\t\tdeferred.resolve new google.maps.Circle params\n\t\t\tdeferred.promise\n\n\t\tdeleteCircle: (circle) =>\n\t\t\t@deleteMarker circle\n\n\t\tresize: (map) =>\n\t\t\tgoogle.maps.event.trigger map, 'resize'\n\n\t\tgetView: (map) =>\n\t\t\tdeferred = @q.defer()\n\n\t\t\tbounds = map.getBounds()\n\t\t\tcenter = bounds.getCenter()\n\n\t\t\tdeferred.resolve\n\t\t\t\tbounds: bounds\n\t\t\t\tzoom: map.getZoom()\n\t\t\t\tcoords:\n\t\t\t\t\tlatitude: center.lat()\n\t\t\t\t\tlongitude: center.lng()\n\t\t\t\t\tradius: @radius bounds\n\t\t\tdeferred.promise\n\n\t\tradius: (bounds) =>\n\t\t\tcenter = bounds.getCenter()\n\t\t\tne = bounds.getNorthEast()\n\t\t\tpt1 =\n\t\t\t\tlat: center.lat()\n\t\t\t\tlng: center.lng()\n\t\t\tpt2 =\n\t\t\t\tlat: ne.lat()\n\t\t\t\tlng: ne.lng()\n\t\t\treturn @distance pt1, pt2\n\n\t\tonMarkerClick: (marker, callback) =>\n\t\t\tgoogle.maps.event.addListener marker, 'click', callback\n]","'use strict'\n\nangular.module 'touk.jwl.history', []\n\n.service '$history', [\n\t'$q'\n\t'$rootScope'\n\t'$location'\n\n\tclass History\n\t\t$states: []\n\t\t$replace: no\n\t\tconstructor: (@$q, $scope, @$location) ->\n\t\t\t$scope.$on '$locationChangeSuccess', => @add()\n\t\t\tangular.extend $scope, history: @\n\n\t\t\t$scope.$watch (=> @$states), =>\n\t\t\t\tconsole.debug 'history', @$states\n\t\t\t, yes\n\n\t\tadd: (path = @$location.path()) =>\n\t\t\tif @$replace\n\t\t\t\t@$states.pop()\n\t\t\t\t@$replace = no\n\t\t\tif path.length > 0 and _.last(@$states) isnt path\n\t\t\t\t@$states.push path\n#\t\t\t@clean() if _.first(@$states) is _.last(@$states)\n\n\t\treplace: => @$replace = yes\n\n\t\tlast: => _.last @$states\n\n\t\thasPrevious: => @$states.length > 1\n\n\t\tclean: =>\n\t\t\t@$replace = no\n\t\t\t@$states = _.takeRight @$states\n\n\t\tback: (steps = 1) =>\n\t\t\t@$replace = no\n\t\t\tif @$states.length > 1\n\t\t\t\t@$states = _.dropRight @$states, steps\n\t\t\t\t@$location.replace()\n\t\t\t\t@$location.path _.last @$states\n]\n\n.run [\n\t'$history', '$timeout'\n\t($history, $timeout) ->\n\t\tdocument.addEventListener 'backbutton', (event) ->\n\t\t\tevent.preventDefault()\n\t\t\t$timeout =>\n\t\t\t\t$history.back() or navigator?.app?.exitApp?()\n\t\t, false\n]","'use strict'\n\nangular.module 'touk.jwl.page', []\n\n.service '$page', [\n\t'$rootScope'\n\t'$timeout'\n\n\tclass Page\n\t\ttitle: ''\n\t\tconstructor: ($scope, @$timeout) ->\n\t\t\t$scope.page = @\n]\n\n.run ['$page', ($page)->]"]}