doctype html
html(ng-app='app', device-detector)
	head
		meta(charset='utf-8')
		meta(name='format-detection', content='telephone=no')
		meta(name='msapplication-tap-highlight', content='no')
		//- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323
		meta(
			name='viewport'
			content='user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi'
		)
		link(rel='stylesheet', href='css/vendor.css')
		link(rel='stylesheet', href='css/app.css')
		script(type='text/javascript', src='cordova.js')
		script(type='text/javascript', src='js/vendor.js')
		script(type='text/javascript', src='js/templates.js')
		script(type='text/javascript', src='js/app.js')
		title ctrlpkw

	body(ng-controller='MainCtrl as ctrl', layout="column", layout-fill)
		md-toolbar
			.md-toolbar-tools
				md-button.md-tools(ng-if='history.hasPrevious()', ng-click='history.back()'): i.icon-arrow-back
				//md-button.md-tools(ng-click='ctrl.back()'): i.icon-arrow-back
				h3: span {{subview}}
				span(flex)
				md-button.md-tools(ng-href='#/votings'): i.icon-accessibility
				md-button.md-tools(ng-href='#/voting'): i.icon-map

		mixin subview(name)
			div(ng-switch-when=name, flex, layout="column")
				md-content(ng-include="'/templates/"+name+".html'", flex, layout="column")

		div(ng-switch='subview', flex, layout="column")
			+subview('votings')
			+subview('voting')
			+subview('wards')
			+subview('ward')
